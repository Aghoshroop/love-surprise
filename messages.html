<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Messages for You ❤️</title>
    <!-- Tailwind CSS CDN -->
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- GSAP CDN -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.9.1/gsap.min.js"></script>
    <style>
        /* Custom styles for messages and gradients */
        body {
            font-family: 'Inter', sans-serif;
            background: linear-gradient(135deg, #fceada 0%, #fff7e6 100%); /* Softer, lighter yellow/peach gradient */
            min-height: 100vh;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            padding: 2rem;
            color: #4a4a4a;
            overflow: hidden; /* For background sparkles */
            position: relative; /* For absolutely positioned particles */
            isolation: isolate; /* Ensures z-index behaves correctly with backdrop-filter */
        }

        /* Animated background sparkles/light particles */
        .sparkle {
            position: absolute;
            background-color: rgba(255, 255, 255, 0.9);
            border-radius: 50%;
            pointer-events: none;
            opacity: 0;
            box-shadow: 0 0 10px rgba(255, 255, 255, 0.8);
            animation: twinkle var(--duration) infinite ease-in-out var(--delay);
            z-index: 0; /* Behind main content */
        }

        @keyframes twinkle {
            0%, 100% { transform: translateY(0) translateX(0) scale(var(--size-start)); opacity: 0; }
            10% { opacity: 0.9; }
            50% { transform: translateY(calc(var(--float-distance) * -1)) translateX(var(--float-drift)) scale(var(--size-end)); opacity: 1; }
            90% { opacity: 0.9; }
        }

        .container {
            backdrop-filter: blur(20px); /* More blur for depth */
            background-color: rgba(255, 255, 255, 0.8); /* Slightly less transparent */
            border-radius: 2.5rem; /* More rounded */
            box-shadow: 0 30px 60px -15px rgba(0, 0, 0, 0.35), inset 0 0 40px rgba(255,255,255,0.1); /* Stronger shadow, subtle inner glow */
            padding: 3.5rem; /* More generous padding */
            text-align: center;
            max-width: 50rem; /* Wider container */
            width: 90%;
            min-height: 380px; /* Ensure container has enough height */
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            opacity: 0;
            transform: translateY(70px); /* Deeper initial y for smoother entrance */
            position: relative;
            z-index: 10;
            border: 2px solid rgba(255, 255, 255, 0.4); /* Subtle, elegant border */
        }

        .main-heading {
            font-size: 3.5rem; /* text-5xl equivalent */
            font-weight: extrabold;
            margin-bottom: 1.5rem;
            background: linear-gradient(45deg, #fca5a5, #ef4444); /* Red/Pink gradient for heading */
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            text-shadow: 1px 1px 3px rgba(0,0,0,0.1);
        }

        .sub-heading {
            font-size: 1.5rem; /* text-xl */
            color: #6b7280; /* Darker gray */
            margin-bottom: 2.5rem;
        }

        .message-display {
            font-size: 2.8rem; /* text-5xl equivalent for prominent messages */
            font-weight: bold;
            color: #d97706; /* Amber-700 */
            min-height: 120px; /* Ensure message area has height */
            display: flex;
            align-items: center;
            justify-content: center;
            margin-bottom: 3rem; /* More space below message */
            padding: 1.5rem; /* More padding */
            text-shadow: 1px 1px 3px rgba(0,0,0,0.15);
            line-height: 1.3;
            max-width: 90%; /* Ensure message doesn't stretch too wide on desktop */
            margin-left: auto;
            margin-right: auto;
        }

        .action-button {
            font-size: 1.25rem;
            font-weight: bold;
            padding: 1rem 2.5rem;
            border-radius: 9999px; /* rounded-full */
            box-shadow: 0 12px 25px -7px rgba(0, 0, 0, 0.3);
            transition: all 0.35s cubic-bezier(0.175, 0.885, 0.32, 1.275); /* Bouncier transition */
            cursor: pointer;
            position: relative;
            overflow: hidden;
            z-index: 1;
            outline: none; /* Remove default focus outline */
        }

        .action-button::before {
            content: '';
            position: absolute;
            top: 50%;
            left: 50%;
            width: 300%;
            height: 300%;
            background: rgba(255, 255, 255, 0.25);
            border-radius: 50%;
            transition: all 0.75s ease-out;
            transform: translate(-50%, -50%) scale(0);
            z-index: -1;
        }

        .action-button:hover::before {
            transform: translate(-50%, -50%) scale(1);
            opacity: 0;
        }

        .next-message-btn {
            background: linear-gradient(45deg, #fbbf24, #f59e0b); /* Warm orange/yellow gradient */
            color: white;
            border: 3px solid #fcd34d;
        }
        .next-message-btn:hover {
            transform: scale(1.1);
            box-shadow: 0 18px 36px -9px rgba(0, 0, 0, 0.4);
        }

        .nav-buttons {
            display: flex;
            justify-content: center;
            gap: 2rem;
            margin-top: 3.5rem;
            flex-wrap: wrap; /* Allow buttons to wrap on small screens */
        }

        .nav-buttons a {
            font-weight: bold;
            padding: 1rem 2.5rem;
            border-radius: 9999px;
            box-shadow: 0 10px 20px -5px rgba(0, 0, 0, 0.25);
            transition: all 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275);
            transform: scale(1);
            border: none;
            outline: none;
        }

        .nav-buttons a:hover {
            transform: scale(1.08);
            box-shadow: 0 15px 30px -8px rgba(0, 0, 0, 0.35);
        }

        .nav-link-back {
            background: linear-gradient(45deg, #9ca3af, #6b7280); /* Gray gradient */
            color: white;
            border: 3px solid #d1d5db;
        }

        .nav-link-final {
            background: linear-gradient(45deg, #ef4444, #dc2626); /* Red gradient */
            color: white;
            border: 3px solid #fecaca;
        }
        .nav-link-final.visible {
            opacity: 1;
            pointer-events: auto;
        }
        .nav-link-final.hidden {
            opacity: 0;
            pointer-events: none;
            display: none; /* Hide completely when not visible */
        }

        /* Responsive adjustments */
        @media (max-width: 768px) {
            .container {
                padding: 1.5rem;
                border-radius: 1.5rem;
                width: 95%;
                min-height: 280px;
            }
            .main-heading {
                font-size: 2.5rem;
                margin-bottom: 1rem;
            }
            .sub-heading {
                font-size: 1.125rem;
                margin-bottom: 2rem;
            }
            .message-display {
                font-size: 1.875rem; /* text-3xl */
                min-height: 90px;
                margin-bottom: 2rem;
            }
            .action-button {
                font-size: 1rem;
                padding: 0.8rem 1.8rem;
            }
            .nav-buttons {
                flex-direction: column;
                gap: 1rem;
                margin-top: 2.5rem;
            }
            .nav-buttons a {
                padding: 0.8rem 1.8rem;
                font-size: 0.9rem;
            }
        }
    </style>
</head>
<body>
    <!-- Background sparkles for stunning effect -->
    <div class="sparkle" style="--size-start:0.5; --size-end:1.2; --duration:18s; --delay:0s; --float-distance:90vh; --float-drift:25vw;"></div>
    <div class="sparkle" style="--size-start:0.7; --size-end:1.5; --duration:20s; --delay:2s; --float-distance:80vh; --float-drift:-20vw;"></div>
    <div class="sparkle" style="--size-start:0.6; --size-end:1.3; --duration:16s; --delay:4s; --float-distance:95vh; --float-drift:15vw;"></div>
    <div class="sparkle" style="--size-start:0.9; --size-end:1.8; --duration:22s; --delay:6s; --float-distance:85vh; --float-drift:-30vw;"></div>
    <div class="sparkle" style="--size-start:0.5; --size-end:1.1; --duration:19s; --delay:8s; --float-distance:70vh; --float-drift:10vw;"></div>
    <div class="sparkle" style="--size-start:0.8; --size-end:1.6; --duration:17s; --delay:10s; --float-distance:100vh; --float-drift:-5vw;"></div>
    <div class="sparkle" style="--size-start:0.7; --size-end:1.4; --duration:16s; --delay:12s; --float-distance:78vh; --float-drift:22vw;"></div>
    <div class="sparkle" style="--size-start:0.6; --size-end:1.2; --duration:15s; --delay:14s; --float-distance:88vh; --float-drift:-18vw;"></div>
    <div class="sparkle" style="--size-start:0.9; --size-end:1.7; --duration:21s; --delay:1s; --float-distance:92vh; --float-drift:10vw;"></div>
    <div class="sparkle" style="--size-start:0.5; --size-end:1.0; --duration:17s; --delay:5s; --float-distance:85vh; --float-drift:-5vw;"></div>
    <div class="sparkle" style="--size-start:0.8; --size-end:1.5; --duration:19s; --delay:9s; --float-distance:75vh; --float-drift:30vw;"></div>
    <div class="sparkle" style="--size-start:0.6; --size-end:1.3; --duration:16s; --delay:13s; --float-distance:90vh; --float-drift:-20vw;"></div>


    <div class="container" id="main-container">
        <h1 class="main-heading">
            Just for Your Eyes... ✨
        </h1>
        <p class="sub-heading">
            A few thoughts, just for you.
        </p>

        <div id="message-display" class="message-display">
            <!-- Messages will appear here -->
        </div>

        <button id="next-message-btn" class="action-button next-message-btn">
            Next Thought
        </button>
    </div>

    <div class="nav-buttons">
        <a href="games.html" class="nav-link-back action-button">
            ← Back to Games
        </a>
        <a href="propose.html" id="final-surprise-link" class="nav-link-final action-button hidden">
            The Grand Finale! →
        </a>
    </div>

    <script>
        document.addEventListener('DOMContentLoaded', () => {
            const mainContainer = document.getElementById('main-container');
            const messageDisplay = document.getElementById('message-display');
            const nextMessageBtn = document.getElementById('next-message-btn');
            const finalSurpriseLink = document.getElementById('final-surprise-link');

            const messages = [
                "You are my sunshine on a cloudy day.",
                "Every moment with you is a treasure.",
                "Your smile lights up my entire world.",
                "I cherish every memory we've made.",
                "My heart beats only for you.",
                "You are the most incredible person I know.",
                "And now... for the biggest surprise yet!"
            ];
            let currentMessageIndex = 0;

            // --- Initial Fade-In Animation for main container ---
            gsap.fromTo(mainContainer,
                { opacity: 0, y: 70, scale: 0.9 },
                { opacity: 1, y: 0, scale: 1, duration: 1.5, ease: "elastic.out(1, 0.5)" }
            );

            const displayNextMessage = () => {
                gsap.to(messageDisplay, {
                    opacity: 0,
                    y: -20,
                    scale: 0.95,
                    duration: 0.6,
                    ease: "power1.in",
                    onComplete: () => {
                        messageDisplay.textContent = messages[currentMessageIndex];
                        gsap.fromTo(messageDisplay,
                            { opacity: 0, y: 20, scale: 0.95 },
                            { opacity: 1, y: 0, scale: 1, duration: 1, ease: "power2.out" }
                        );

                        if (currentMessageIndex === messages.length - 1) {
                            // Last message, change button text and reveal final link
                            nextMessageBtn.textContent = "Ready for the Finale?";
                            gsap.to(nextMessageBtn, {
                                background: 'linear-gradient(45deg, #800080, #bf00bf)', // Purple gradient for finale button
                                duration: 0.5
                            });
                            finalSurpriseLink.classList.remove('hidden'); // Make sure it's displayable
                            gsap.fromTo(finalSurpriseLink,
                                { opacity: 0, scale: 0.8, y: 20 },
                                { opacity: 1, scale: 1, y: 0, duration: 1, delay: 0.5, ease: "elastic.out(1, 0.5)", onComplete: () => finalSurpriseLink.classList.add('visible') }
                            );
                        } else if (currentMessageIndex >= messages.length) {
                             // If somehow past the last message, just navigate
                             window.location.href = 'propose.html';
                             return;
                         }
                    }
                });
            };

            nextMessageBtn.addEventListener('click', () => {
                if (currentMessageIndex < messages.length -1) {
                    currentMessageIndex++;
                    displayNextMessage();
                } else {
                    // This is the "Ready for the Finale?" button
                    // Animate out everything before navigating to the final page
                    gsap.to([mainContainer, ...document.querySelectorAll('.nav-buttons a'), ...document.querySelectorAll('.sparkle')], {
                        opacity: 0,
                        y: -50,
                        scale: 0.8,
                        duration: 0.7,
                        ease: "power1.in",
                        onComplete: () => {
                            window.location.href = 'propose.html';
                        }
                    });
                }
            });

            // Initial message display
            displayNextMessage();

            // --- Navigation transitions (for all nav buttons) ---
            document.querySelectorAll('.nav-buttons a').forEach(link => {
                link.addEventListener('click', (event) => {
                    // Only prevent default and animate if it's NOT the final surprise link when it's just been revealed
                    // (The nextMessageBtn handles the final transition once it becomes 'Ready for the Finale?')
                    if (link.id !== 'final-surprise-link' || currentMessageIndex < messages.length - 1) {
                        event.preventDefault();
                        const href = link.getAttribute('href');
                        gsap.to([mainContainer, ...document.querySelectorAll('.nav-buttons a'), ...document.querySelectorAll('.sparkle')], {
                            opacity: 0,
                            y: -50,
                            scale: 0.8,
                            duration: 0.7,
                            ease: "power1.in",
                            onComplete: () => {
                                window.location.href = href;
                            }
                        });
                    }
                });
            });
        });
    </script>
</body>
</html>
